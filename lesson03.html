<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>レッスン２</title>
</head>
<body>
<div style="max-width: 800px; margin: 0 auto; width: 90%;">
  
<h1>Pandas（パンダス）とは？</h1>
<p>Pandasは、Pythonで<strong>表形式のデータ</strong>を効率的に扱うためのライブラリです。</p>
<p>「表計算データを簡単に操作したい」「CSVやExcelファイルを読み書きしたい」といったときに活躍します。</p>

<h2>Pandasを使うメリット</h2>
<ul>
  <li>行と列で構成されたデータ（表形式）を簡単に操作できる</li>
  <li>データの読み込み・加工・集計・出力まで一貫して行える</li>
  <li>ExcelやCSV、SQLデータなど、さまざまな形式のデータを扱える</li>
  <li>データ分析・前処理・可視化の下準備に最適</li>
</ul>

<h2>PandasのDataFrame（データフレーム）の作成</h2>
<p><strong>DataFrame</strong>とは、Pandasで扱う基本的な表形式のデータ構造です。</p>
<p>行と列を持ち、Excelのようにラベル付きでデータを管理できます。</p>

<h3>基本のDataFrame作成（辞書から）</h3>
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) data = {
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) }
(8) 
(9) df = pd.DataFrame(data)
(10) print(df)</code></pre>
      </div>
    </td>
  </tr>
</table>

<h2>出力例</h2>
<pre style="background-color: #f7f7f8; padding: 8px; border-radius: 4px; font-size: 16px;"> 
   名前  年齢  出身地
0  太郎   23   東京
1  花子   25   大阪
2  次郎   22   福岡
</pre>

<h2>列の順序を指定して作成</h2>
<pre style="background-color: #f7f7f8; padding: 8px; border-radius: 4px; font-size: 16px;">
df = pd.DataFrame(data, columns=['名前', '出身地', '年齢'])
</pre>

<h2>行ラベル（インデックス）を指定して作成</h2>
<pre style="background-color: #f7f7f8; padding: 8px; border-radius: 4px; font-size: 16px;">
df = pd.DataFrame(data, index=['a', 'b', 'c'])
</pre>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>列の選択</li></ul>
<!---------------------------------------------------------------------------------------> 

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) })
(8) 
(9) print(df['名前'])  # 1列だけ（Series型で返る）
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>1列だけ選ぶ（Series型で取得）</li></ul></h1>
 <!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) })
(8) 
(9) print(df['名前'])  # 1列だけ（Series型で返る）
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>複数の列を選ぶ（DataFrame型で取得）</li></ul></h1>
 <!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) print(df[['名前', '年齢']])  # 複数列（DataFrame型で返る）
</code></pre>
      </div>
    </td>
  </tr>
</table>

  <!--------------------------------------------------------------------------------------->
<h1><ul><li>新しい列を追加する</li></ul></h1>
 <!--------------------------------------------------------------------------------------->
  <table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) df['得点'] = [80, 90, 85]  # 新しい列「得点」を追加
(2) print(df)                # 結果を表示
</code></pre>
      </div>
    </td>
  </tr>
</table>


 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>列の選択</li></ul>
<!---------------------------------------------------------------------------------------> 
   <!--------------------------------------------------------------------------------------->
<h1><ul><li>行番号（整数）で1行選ぶ（.iloc[]）</li></ul></h1>
 <!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) })
(8) 
(9) print(df.iloc[0])  # 0番目の行（太郎のデータ）
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
<h1><ul><li>インデックスラベルで選ぶ（.loc[]）</li></ul></h1>
 <!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) df.index = ['a', 'b', 'c']  # 行に名前（インデックスラベル）をつける
(2) print(df.loc['b'])         # b行（花子のデータ）を取得
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
<h1><ul><li>複数行を選ぶ（スライス）</li></ul></h1>
 <!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) print(df.iloc[0:2])  # 最初の2行（太郎・花子）を取得
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>データの基本情報を確認する方法（DataFrameの構造や統計）</li></ul>
<!---------------------------------------------------------------------------------------> 
   <!--------------------------------------------------------------------------------------->
<h1><ul><li>.info()：列ごとの型や欠損の有無を確認</li></ul></h1>
 <!--------------------------------------------------------------------------------------->   
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) })
(8) 
(9) df.info()  # 列のデータ型や非null数などを確認
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>pandas の条件付きフィルタリング（ブールインデックス）</li></ul>
<!---------------------------------------------------------------------------------------> 
   <!--------------------------------------------------------------------------------------->
<h1><ul><li>単一条件でのフィルタリング</li></ul></h1>
 <!--------------------------------------------------------------------------------------->     
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '年齢': [23, 25, 22],
(6)     '出身地': ['東京', '大阪', '福岡']
(7) })
(8) 
(9) result = df[df['年齢'] >= 23]
(10) print(result)  # 年齢が23歳以上の行を抽出
</code></pre>
      </div>
    </td>
  </tr>
</table>
   <!--------------------------------------------------------------------------------------->
<h1><ul><li>複数条件でのフィルタリング（& / | を使う）</li></ul></h1>
 <!--------------------------------------------------------------------------------------->     
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) result = df[(df['年齢'] >= 23) & (df['出身地'] == '東京')]
(2) print(result)  # 年齢23歳以上かつ東京出身
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>pandas による「列の合計・平均・分散・標準偏差」</li></ul>
<!---------------------------------------------------------------------------------------> 
 <!--------------------------------------------------------------------------------------->
<h1><ul><li>列ごとの合計・平均・分散・標準偏差を求める</li></ul></h1>
 <!--------------------------------------------------------------------------------------->       
  <table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '国語': [80, 90, 85],
(6)     '数学': [70, 88, 82],
(7)     '英語': [75, 95, 80]
(8) })
(9) 
(10) print(df[['国語', '数学', '英語']].sum())   # 各列の合計
(11) print(df[['国語', '数学', '英語']].mean())  # 各列の平均
(12) print(df[['国語', '数学', '英語']].var())   # 各列の分散
(13) print(df[['国語', '数学', '英語']].std())   # 各列の標準偏差
</code></pre>
      </div>
    </td>
  </tr>
</table>
 <!--------------------------------------------------------------------------------------->
<h1><ul><li>行ごとの合計・平均も可能</li></ul></h1>
 <!--------------------------------------------------------------------------------------->       
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) df['合計'] = df[['国語', '数学', '英語']].sum(axis=1)
(2) df['平均'] = df[['国語', '数学', '英語']].mean(axis=1)
(3) print(df)
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
<h1><ul><li>describe() の基本的な使い方</li></ul></h1>
 <!--------------------------------------------------------------------------------------->       
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '国語': [80, 90, 85],
(6)     '数学': [70, 88, 82],
(7)     '英語': [75, 95, 80]
(8) })
(9) 
(10) print(df.describe())
</code></pre>
      </div>
    </td>
  </tr>
</table>
<div style="
  background-color: #f7f7f8;
  color: #333;
  font-family: monospace;
  font-size: 16px;
  line-height: 1.6;
  padding: 12px;
  border-radius: 6px;
  width: 100%;
  max-width: 800px;
  overflow: auto;
  margin: auto;
">
<pre style="margin: 0;">
             国語        数学        英語
count   3.000000   3.000000   3.000000
mean   85.000000  80.000000  83.333333
std     5.000000   9.849155  10.408330
min    80.000000  70.000000  75.000000
25%    82.500000  76.000000  77.500000
50%    85.000000  82.000000  80.000000
75%    87.500000  85.000000  87.500000
max    90.000000  88.000000  95.000000
</pre>
</div>
             
 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>欠損値の確認、補完、削除</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) import numpy as np
(3) 
(4) # サンプルデータ作成（欠損値 NaN を含む）
(5) df = pd.DataFrame({
(6)     '名前': ['太郎', '花子', '次郎', '三郎'],
(7)     '国語': [80, np.nan, 85, 90],
(8)     '数学': [70, 88, np.nan, 75],
(9)     '英語': [75, 95, 80, np.nan]
(10) })
(11) 
(12) # 欠損値の確認
(13) print(df.isnull())          # Trueが欠損値の場所
(14) print(df.isnull().sum())    # 各列の欠損値の数
(15) 
(16) # 欠損値の補完（例：平均値で補完）
(17) df_filled = df.fillna(df.mean(numeric_only=True))
(18) print(df_filled)
(19) 
(20) # 欠損値を含む行の削除
(21) df_dropped = df.dropna()
(22) print(df_dropped)
</code></pre>
      </div>
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>データ型の変換</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) # 文字列の数字データを持つデータフレーム作成
(4) df = pd.DataFrame({
(5)     '名前': ['太郎', '花子', '次郎'],
(6)     '年齢': ['23', '25', '22'],  # str型
(7)     '得点': ['80.5', '90.0', '85.5']  # str型
(8) })
(9) 
(10) print("変換前のデータ型：")
(11) print(df.dtypes)
(12) 
(13) # 年齢を整数型、得点を浮動小数点型に変換
(14) df['年齢'] = df['年齢'].astype(int)
(15) df['得点'] = df['得点'].astype(float)
(16) 
(17) print("\n変換後のデータ型：")
(18) print(df.dtypes)
(19) 
(20) print("\n変換後のデータ内容：")
(21) print(df)
</code></pre>
      </div>
    </td>
  </tr>
  <tr>
    <td style="background:#fff; padding: 12px; font-family: monospace; font-size: 16px; border-radius: 0 0 6px 6px;">
      <strong>実行結果イメージ：</strong><br>
      変換前のデータ型：<br>
      名前     object<br>
      年齢     object<br>
      得点     object<br>
      dtype: object<br>
      <br>
      変換後のデータ型：<br>
      名前      object<br>
      年齢       int64<br>
      得点    float64<br>
      dtype: object<br>
      <br>
      変換後のデータ内容：<br>
      名前  年齢   得点<br>
      0  太郎  23  80.5<br>
      1  花子  25  90.0<br>
      2  次郎  22  85.5<br>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
 <ul><li><h1>データ型の結合</li></ul>
<!---------------------------------------------------------------------------------------> 
 <!--------------------------------------------------------------------------------------->
<h1><ul><li>how='left'：左のデータフレームを基準に結合</li></ul></h1>
 <!--------------------------------------------------------------------------------------->        
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df1 = pd.DataFrame({
(4)     '名前': ['太郎', '花子', '次郎'],
(5)     '国語': [80, 90, 85]
(6) })
(7) 
(8) df2 = pd.DataFrame({
(9)     '名前': ['太郎', '次郎', '三郎'],
(10)    '数学': [70, 88, 75]
(11) })
(12) 
(13) df_left = pd.merge(df1, df2, on='名前', how='left')
(14) print(df_left)
</code></pre>
      </div>
    </td>
  </tr>
  <tr>
    <td style="background:#fff; padding: 12px; font-family: monospace; font-size: 16px; border-radius: 0 0 6px 6px;">
      <strong>実行結果：</strong><br><br>
      名前　 国語　 数学<br>
      太郎　 80　   70<br>
      花子　 90　   NaN<br>
      次郎　 85　   88
    </td>
  </tr>
</table>

 <!--------------------------------------------------------------------------------------->
<h1><ul><li>how='right'：右のデータフレームを基準に結合</li></ul></h1>
 <!--------------------------------------------------------------------------------------->  
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) df_right = pd.merge(df1, df2, on='名前', how='right')
(2) print(df_right)
</code></pre>
      </div>
    </td>
  </tr>
  <tr>
    <td style="background:#fff; padding: 12px; font-family: monospace; font-size: 16px; border-radius: 0 0 6px 6px;">
      <strong>実行結果：</strong><br><br>
      名前　 国語　 数学<br>
      太郎　 80　   70<br>
      次郎　 85　   88<br>
      三郎　 NaN　 75
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
 <ul><li><h1>グループ化と集計</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) df = pd.DataFrame({
(4)     'クラス': ['A', 'A', 'B', 'B', 'C'],
(5)     '名前': ['太郎', '花子', '次郎', '三郎', '五郎'],
(6)     '国語': [80, 90, 85, 70, 95],
(7)     '数学': [75, 88, 82, 78, 85]
(8) })
(9) 
(10) grouped = df.groupby('クラス').mean(numeric_only=True)
(11) print(grouped)
</code></pre>
      </div>
    </td>
  </tr>
  <tr>
    <td style="background:#fff; padding: 12px; font-family: monospace; font-size: 16px; border-radius: 0 0 6px 6px;">
      <strong>実行結果：</strong><br><br>
      クラスごとの平均：<br><br>
<pre style="margin: 0;">       国語   数学
クラス           
A     85.0  81.5  
B     77.5  80.0  
C     95.0  85.0</pre>
    </td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: sans-serif;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
        <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: #ffffff;">
          <thead style="background-color: #e0e0e0;">
            <tr>
              <th style="text-align: left;">グループ化で使う主な集計関数</th>
              <th style="text-align: left;">内容</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>mean()</code></td>
              <td>平均</td>
            </tr>
            <tr>
              <td><code>sum()</code></td>
              <td>合計</td>
            </tr>
            <tr>
              <td><code>count()</code></td>
              <td>件数（行数）</td>
            </tr>
            <tr>
              <td><code>max()</code></td>
              <td>最大値</td>
            </tr>
            <tr>
              <td><code>min()</code></td>
              <td>最小値</td>
            </tr>
          </tbody>
        </table>
      </div>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
 <ul><li><h1>クロス集計表</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd

(2) # データ作成
(3) df = pd.DataFrame({
(4)     '性別': ['男', '女', '男', '女', '男', '女', '男'],
(5)     'クラス': ['A', 'A', 'B', 'B', 'A', 'B', 'B']
(6) })

(7) # クロス集計表（性別×クラスの件数）
(8) table = pd.crosstab(df['性別'], df['クラス'])
(9) print(table)
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
 <ul><li><h1>ピボットテーブル</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd

(2) # データ作成
(3) df = pd.DataFrame({
(4)     '性別': ['男', '女', '男', '女', '男', '女', '男'],
(5)     'クラス': ['A', 'A', 'B', 'B', 'A', 'B', 'B'],
(6)     '数学': [70, 85, 78, 90, 88, 76, 84]
(7) })

(8) # ピボットテーブル作成（性別×クラスの数学の平均点）
(9) table = pd.pivot_table(df, index='性別', columns='クラス', values='数学', aggfunc='mean')

(10) print(table)
</code></pre>
      </div>
    </td>
  </tr>
</table>

<td style="background:#fff; padding: 12px; font-family: monospace; font-size: 16px; border-radius: 0 0 6px 6px;">
  <strong>実行結果：</strong><br><br>
  <table style="border-collapse: collapse; width: 100%; max-width: 400px;">
    <thead>
      <tr style="background-color: #f0f0f0;">
        <th style="border: 1px solid #ddd; padding: 6px;">クラス</th>
        <th style="border: 1px solid #ddd; padding: 6px;">A</th>
        <th style="border: 1px solid #ddd; padding: 6px;">B</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th style="border: 1px solid #ddd; padding: 6px; text-align: left;">女</th>
        <td style="border: 1px solid #ddd; padding: 6px;">85.0</td>
        <td style="border: 1px solid #ddd; padding: 6px;">83.0</td>
      </tr>
      <tr>
        <th style="border: 1px solid #ddd; padding: 6px; text-align: left;">男</th>
        <td style="border: 1px solid #ddd; padding: 6px;">79.3</td>
        <td style="border: 1px solid #ddd; padding: 6px;">80.7</td>
      </tr>
    </tbody>
  </table>
</td>

<!--------------------------------------------------------------------------------------->
 <ul><li><h1>日付型のデータ（datetime型）</li></ul>
<!---------------------------------------------------------------------------------------> 
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.6;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import pandas as pd
(2) 
(3) # 日付データの作成（文字列からdatetime型へ変換）
(4) df = pd.DataFrame({
(5)     '日付': ['2023-01-01', '2023-02-15', '2023-03-20'],
(6)     '売上': [1000, 1500, 1300]
(7) })
(8) 
(9) # 文字列をdatetime型に変換
(10) df['日付'] = pd.to_datetime(df['日付'])
(11) 
(12) print(df)
(13) print(df.dtypes)  # データ型の確認
(14)
(15) # 日付から「年」「月」「日」の情報を取り出す例
(16) df['年'] = df['日付'].dt.year
(17) df['月'] = df['日付'].dt.month
(18) df['日'] = df['日付'].dt.day
(19) 
(20) print(df)
</code></pre>
      </div>
    </td>
  </tr>
</table>

  
  
  <a href="index.html">トップページに戻る</a>
  <br>
  </div>
</body>
</html>
