<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>レッスン２</title>
</head>
<body>
<div style="max-width: 800px; margin: 0 auto; width: 90%;">
 
　<h1>NumPy（ナムパイ）とは？</h1>
  <p>NumPy（Numerical Python）は、Pythonで高速な数値計算を行うためのライブラリです。</p>
  <p>「大量の数値を扱う」「数学的な処理を高速にしたい」といったときに非常に便利です。</p>

  <h2>NumPyを使うメリット</h2>
  <ul>
    <li>Pythonだけでは重くなるような処理が速くなる（大きなデータもOK）</li>
    <li>配列や行列を数学的に扱うのがとても楽</li>
    <li>機械学習やAIなどの分野ではほぼ必須のライブラリ</li>
  </ul>
<br>
  
<!--------------------------------------------------------------------------------------->
 <ul><li><h1>ndim は NumPy配列の「次元数（軸の数）」を返す</li></ul>
<!--------------------------------------------------------------------------------------->
 <table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        /*max-width: 800px;*/
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2) 
(3) a = np.array(10)
(4) print(a.ndim)  # 出力: 0（スカラー）
(5) 
(6) b = np.array([1, 2, 3])
(7) print(b.ndim)  # 出力: 1（一次元）
(8) 
(9) c = np.array([[1, 2, 3], [4, 5, 6]])
(10) print(c.ndim)  # 出力: 2（行列）
(11) 
(12) d = np.array([[[1], [2]], [[3], [4]]])
(13) print(d.ndim)  # 出力: 3（三次元）</code></pre>
      </div>
    </td>
  </tr>
</table>
<br>
<!--------------------------------------------------------------------------------------->
 <ul><li>NumPyの配列におけるインデックス操作はとても重要</li></ul>
  　　　多様な方法で配列の特定の要素を参照・操作できます。<br>
<!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np

(2) # 1. 基本のインデックス指定（添字）
(3) arr = np.array([10, 20, 30, 40])
(4) print(arr[0])  # 10
(5) print(arr[3])  # 40

(6) # 2. スライス（範囲指定）
(7) arr = np.array([10, 20, 30, 40, 50])
(8) print(arr[1:4])  # [20 30 40]
(9) print(arr[:3])   # [10 20 30]
(10) print(arr[::2])  # [10 30 50]

(11) # 3. 多次元配列のインデックス
(12) arr2d = np.array([[1, 2, 3],
(13)                   [4, 5, 6]])
(14) print(arr2d[0, 1])  # 2（0行1列）
(15) print(arr2d[1, :])  # [4 5 6]

(16) # 4. ブールインデックス（条件で抽出）
(17) arr = np.array([10, 15, 20, 25])
(18) mask = arr > 15
(19) print(arr[mask])  # [20 25]
(20) print(arr[arr > 15])  # [20 25]

(21) # 5. 整数配列による複数インデックス指定
(22) arr = np.array([10, 20, 30, 40, 50])
(23) indices = [1, 3]
(24) print(arr[indices])  # [20 40]
</code></pre>
      </div>
    </td>
  </tr>
</table>
<br>

 <!--------------------------------------------------------------------------------------->
 <ul><li><h1>配列の四則演算</li></ul>
<!---------------------------------------------------------------------------------------> 
<!--------------------------------------------------------------------------------------->
 <ul><li>NumPy配列では、四則演算（+ − × ÷）を要素ごとに簡単に実行できます</li></ul>
  　　　これを「要素ごとの演算（element-wise operation）」といいます。<br><br>
<!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2) 
(3) a = np.array([1, 2, 3])
(4) b = np.array([10, 20, 30])
(5) 
(6) print(a + b)  # 足し算 → [11 22 33]
(7) print(a - b)  # 引き算 → [-9 -18 -27]
(8) print(a * b)  # 掛け算 → [10 40 90]
(9) print(b / a)  # 割り算 → [10. 10. 10.]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<h2> 配列とスカラーの演算（ブロードキャスト）</h2>

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) print(a + 5)  # [6 7 8]
(2) print(b * 2)  # [20 40 60]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<h2> 注意：配列の形が一致しないとエラー</h2>

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) a = np.array([1, 2, 3])
(2) c = np.array([4, 5])
(3) # print(a + c)  → エラー（形が一致しない）
</code></pre>
      </div>
    </td>
  </tr>
</table>

<h2> 実践例：1〜5の2乗</h2>

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 100%; max-width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) arr = np.array([1, 2, 3, 4, 5])
(2) print(arr ** 2)  # [1 4 9 16 25]
</code></pre>
      </div>
    </td>
  </tr>
</table>

</body>
</html>
<br>
<!--------------------------------------------------------------------------------------->
 <h1></h1><ul><li>配列とスカラーの演算</li></ul>
  　　　ブロードキャストはNumPyが形の違う配列（またはスカラー）同士の演算を自動で成立させる仕組み。<br>
<!--------------------------------------------------------------------------------------->
  
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2) 
(3) a = np.array([1, 2, 3])
(4) 
(5) print(a + 5)  # [6 7 8]
(6) print(a - 1)  # [0 1 2]
(7) print(a * 2)  # [2 4 6]
(8) print(a / 2)  # [0.5 1.0 1.5]
(9) 
(10) # ブロードキャストの例（スカラーが自動で配列に適用される）
(11) b = 10
(12) print(a + b)  # [11 12 13]
</code></pre>
      </div>
    </td>
  </tr>
</table>



<!--------------------------------------------------------------------------------------->
<h1><ul><li>配列の形状変更（reshape / ravel / flatten）</li></ul>
 <!--------------------------------------------------------------------------------------->
<!-- reshapeを使って1次元→2次元 -->
<h3>reshape：1次元配列を2次元に変形</h3>
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np                 # NumPyライブラリを読み込む
(2) 
(3) a = np.array([1, 2, 3, 4, 5, 6])   # 1次元配列（要素6つ）を作成
(4) 
(5) b = a.reshape((2, 3))              # 2行3列に変形
(6) print(b)                           # [[1 2 3]
(7)                                    #  [4 5 6]]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!-- ravel -->
<h3>ravel：多次元配列を1次元に（元のデータとメモリ共有）</h3>
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(8) print(b.ravel())                   # 出力: [1 2 3 4 5 6]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!-- flatten -->
<h3>flatten：多次元配列を1次元に（コピーとして新しい配列を作る）</h3>
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(9) print(b.flatten())                # 出力: [1 2 3 4 5 6]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!-- reshape -1 自動整形 -->
<h3>reshape(-1, n)：行数を自動で調整してn列に変形</h3>
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
  <tr>
    <td>
      <div style="
        background-color: #f7f7f8;
        color: #333;
        font-family: monospace;
        font-size: 16px;
        line-height: 1.5;
        padding: 12px;
        border-radius: 6px;
        width: 100%;
        overflow: auto;">
<pre style="margin: 0;"><code>(10) c = a.reshape(-1, 2)              # 2列で行数を自動計算（3行2列）
(11) print(c)                          # [[1 2]
(12)                                   #  [3 4]
(13)                                   #  [5 6]]
</code></pre>
      </div>
    </td>
  </tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>配列の結合（concatenation）</li></ul>
 <!--------------------------------------------------------------------------------------->
<!-- reshapeを使って1次元→2次元 -->
<h3>np.concatenate()：一次元配列を連結</h3>  

<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2)
(3) a = np.array([1, 2, 3])
(4) b = np.array([4, 5, 6])
(5)
(6) c = np.concatenate([a, b])
(7) print(c)  # 出力: [1 2 3 4 5 6]
</code></pre>
</div>
</td></tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li> 配列の分割（splitting）</li></ul>
 <!--------------------------------------------------------------------------------------->
<!-- reshapeを使って1次元→2次元 -->
<h3>np.split()：等間隔で分割（1次元）/h3>    
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) arr = np.array([0, 1, 2, 3, 4, 5])
(2)
(3) result = np.split(arr, 3)
(4) print(result)
(5) # 出力: [array([0, 1]), array([2, 3]), array([4, 5])]
</code></pre>
</div>
</td></tr>
</table>

<h1>>配列の統計量の計算</h1>
<!--------------------------------------------------------------------------------------->
<h1><ul><li>平均（np.mean()）</li></ul>
 <!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2)
(3) data = np.array([10, 20, 30, 40, 50])
(4) 
(5) avg = np.mean(data)
(6) print(avg)  # 出力: 30.0
</code></pre>
</div>
</td></tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>2次元配列の平均</li></ul>
 <!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) import numpy as np
(2)
(3) arr = np.array([[10, 20, 30],
(4)                 [40, 50, 60],
(5)                 [70, 80, 90]])
(6)
(7) # 行方向（横）の平均：各行ごとの平均を求める
(8) row_mean = np.mean(arr, axis=1)
(9) print(row_mean)  # 出力: [20. 50. 80.]
</code></pre>
</div>
</td></tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>補足：列方向の平均を求めたい場合</li></ul>
 <!--------------------------------------------------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) col_mean = np.mean(arr, axis=0)
(2) print(col_mean)  # 出力: [40. 50. 60.]
</code></pre>
</div>
</td></tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li>分散（np.var()）</li></ul>
 <!--------------------------------------------------------------------------------------->  
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) var = np.var(data)
(2) print(var)  # 出力: 200.0
</code></pre>
</div>
</td></tr>
</table>

<!--------------------------------------------------------------------------------------->
<h1><ul><li> 標準偏差（np.std()）</li></ul>
 <!--------------------------------------------------------------------------------------->  
<table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0; width: 800px; margin: auto;">
<tr><td>
<div style="background-color: #f7f7f8; color: #333; font-family: monospace; font-size: 16px; line-height: 1.5; padding: 12px; border-radius: 6px; width: 100%; overflow: auto;">
<pre style="margin: 0;"><code>(1) std = np.std(data)
(2) print(std)  # 出力: 14.1421356237...
</code></pre>
</div>
</td></tr>
</table>




  
  
  
  
<!--
  <table border="0" cellspacing="0" cellpadding="0" style="background-color: #f0f0f0;">
  <tr>
  <div style="
  background-color: #f7f7f8;
  color: #333;
  font-family: monospace;
  font-size: 16px;
  line-height: 1.5;
  padding: 12px;
  border-radius: 6px;
  width: 100%;
  max-width: 800px;
  overflow: auto;">
<pre style="margin: 0;"><code>(1) daikin = 2000
(2) ritu = 0.1
(3) print('割引額',daikin*ritu,'円')</code></pre>
</div> </tr>
</table>
-->

 
  

  
  
  <a href="index.html">トップページに戻る</a>
  <br>
  </div>
</body>
</html>
